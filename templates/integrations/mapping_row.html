<div class="mapping-row border rounded p-3 mb-3" data-parent-path="{{ mapping.parent_path|default:'' }}">
    <div class="row g-3">
        <div class="col-md-3">
            <label class="form-label">Source Field</label>
            <select class="form-select source-field" required>
                <option value="">Select a field</option>
                <optgroup label="Booking Fields">
                    {% for field_name, field_label in booking_fields %}
                    <option value="{{ field_name }}" {% if mapping.source_field == field_name %}selected{% endif %}>
                        {{ field_label }}
                    </option>
                    {% endfor %}
                </optgroup>
                <optgroup label="Customer Fields">
                    {% for field_name, field_label in customer_fields %}
                    <option value="{{ field_name }}" {% if mapping.source_field == field_name %}selected{% endif %}>
                        {{ field_label }}
                    </option>
                    {% endfor %}
                </optgroup>
            </select>
        </div>
        <div class="col-md-3">
            <label class="form-label">Target Field</label>
            <input type="text" class="form-control target-field" value="{{ mapping.target_field }}" required>
        </div>
        <div class="col-md-2">
            <label class="form-label">Field Type</label>
            <select class="form-select field-type">
                {% for type_value, type_label in field_types %}
                <option value="{{ type_value }}" {% if mapping.field_type == type_value %}selected{% endif %}>
                    {{ type_label }}
                </option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-2">
            <label class="form-label">Default Value</label>
            <input type="text" class="form-control default-value" value="{{ mapping.default_value|default:'' }}">
        </div>
        <div class="col-md-1 col-6">
            <label class="form-label">Required</label>
            <div class="form-check mt-2">
                <input type="checkbox" class="form-check-input is-required" {% if mapping.is_required %}checked{% endif %}>
            </div>
        </div>
        <div class="col-md-1 col-6">
            <label class="form-label d-md-block d-none">&nbsp;</label>
            <button type="button" class="btn btn-danger btn-sm w-100" onclick="removeMapping(this)">
                <i class="fas fa-trash"></i>
            </button>
        </div>
    </div>
   
</div>
